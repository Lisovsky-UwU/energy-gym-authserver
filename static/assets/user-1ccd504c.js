import{l as i,A as n,_ as u}from"./index-13497349.js";const o=i(),p=n("userData",{state:()=>({userData:null}),getters:{fullname(){var t,s,e;return this.userData?`${(t=this.userData)==null?void 0:t.secondname} ${(s=this.userData)==null?void 0:s.firstname} ${(e=this.userData)==null?void 0:e.surname}`:"No data"},role(){var t;return((t=this.userData)==null?void 0:t.role)||"No data"},group(){var t;return((t=this.userData)==null?void 0:t.group)||"No data"},studentCard(){var t;return((t=this.userData)==null?void 0:t.studentCard)||-1}},actions:{set(t){this.userData=t},invalidate(){this.userData=null},async update(t,s){const e=await u(()=>import("./api-c0bedf42.js"),["assets/api-c0bedf42.js","assets/index-13497349.js","assets/index-d7718815.css"]),r=await(s=="STUDENT"?e.useApiStudentStore():e.useApiCoachStore()).doRequest("/user/edit","PUT",t);this.set(r),o.showSuccess("Данные успешно сохранены")},async changePassword(t,s,e){const a=await u(()=>import("./api-c0bedf42.js"),["assets/api-c0bedf42.js","assets/index-13497349.js","assets/index-d7718815.css"]);await(e=="STUDENT"?a.useApiStudentStore():a.useApiCoachStore()).doRequest("/user/edit-password","PUT",{oldPassword:t,newPassword:s}),o.showSuccess("Пароль успешно изменен")}}});export{p as u};
